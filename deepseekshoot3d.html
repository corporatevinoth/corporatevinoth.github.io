function createBuilding(x, z) {
  // Building base
  let c = [0xb0bec5, 0xffb300, 0x90caf9, 0x8d6e63, 0xff7043][Math.floor(Math.random()*5)];
  let mat = new THREE.MeshPhongMaterial({color: c});
  let w = (3.4 + Math.random()*2.2)*1.5, h = (7 + Math.random()*7)*1.5, d = (4.2 + Math.random()*2)*1.5;
  let geo = new THREE.BoxGeometry(w, h, d);
  let mesh = new THREE.Mesh(geo, mat);
  mesh.position.set(x, h/2-0.1, z);
  scene.add(mesh);
  decorations.push({mesh, type:'building'});

  // Add windows
  let numRows = Math.floor(h/2);
  let numCols = Math.floor(w/1.1);
  for(let row=0; row<numRows; row++) {
    for(let col=0; col<numCols; col++) {
      // Randomly skip some windows for variety
      if(Math.random()>0.75) continue;

      // Glass or normal window
      let isGlass = Math.random()>0.7;
      let winMat = isGlass
        ? new THREE.MeshPhongMaterial({color:0x6ec6ff, transparent:true, opacity:0.45, shininess:60, emissive:0x9ecfff})
        : new THREE.MeshPhongMaterial({color:0xe0e0e0, shininess:10});

      let winGeo = new THREE.BoxGeometry(w/numCols*0.65, h/numRows*0.25, 0.15);
      let winMesh = new THREE.Mesh(winGeo, winMat);

      // Place on front face
      winMesh.position.set(
        x-(w/2)+(col+0.5)*w/numCols,   // X across the building
        mesh.position.y + h/2 - (row+1)*h/numRows, // Y down the building
        z + d/2 + 0.08                 // Slightly in front of building
      );
      scene.add(winMesh);
      decorations.push({mesh: winMesh, type: 'window'});
    }
  }
}