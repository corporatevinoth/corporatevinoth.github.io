<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Toss</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #a8c0ff, #3f2b96);
            /* Blue-purple gradient */
            color: #fff;
            overflow: hidden;
            /* Prevent scrollbars from animation */
        }

        .container {
            background-color: rgba(255, 255, 255, 0.15);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            text-align: center;
            width: 90%;
            max-width: 400px;
            backdrop-filter: blur(10px);
            /* Frosted glass effect */
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 30px;
            color: #e0f2f7;
            /* Light blue */
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .coin-container {
            perspective: 1000px;
            /* For 3D flip effect */
            width: 180px;
            height: 180px;
            margin: 0 auto 30px;
            position: relative;
            transform-style: preserve-3d;
        }

        .coin-face {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: #ffd700;
            /* Gold color */
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.8), inset 0 0 10px rgba(255, 255, 255, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3em;
            font-weight: bold;
            color: #333;
            backface-visibility: hidden;
            /* Hide back during flip */
            position: absolute;
            transition: transform 0.6s ease-in-out;
            /* Smooth transition for initial display */
        }

        .coin-face img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            display: block;
        }

        /* Initial state for heads and tails */
        .coin-heads {
            transform: rotateY(0deg);
        }

        .coin-tails {
            transform: rotateY(180deg);
        }

        /* Animation for flipping */
        @keyframes flipCoin {
            0% {
                transform: rotateX(0) rotateY(0) scale(1);
            }

            25% {
                transform: rotateX(180deg) rotateY(360deg) scale(1.1);
            }

            50% {
                transform: rotateX(360deg) rotateY(720deg) scale(0.9);
            }

            75% {
                transform: rotateX(540deg) rotateY(1080deg) scale(1.1);
            }

            100% {
                transform: rotateX(720deg) rotateY(1440deg) scale(1);
            }
        }

        .flipping .coin-container {
            animation: flipCoin 1.5s ease-out forwards;
            /* Apply animation */
        }

        .flipping .coin-heads {
            /* During flipping, heads will rotate */
            transform: rotateY(0deg);
            /* Keep it in its initial orientation relative to the container */
        }

        .flipping .coin-tails {
            /* During flipping, tails will rotate */
            transform: rotateY(180deg);
            /* Keep it in its initial orientation relative to the container */
        }

        .flip-button {
            background-color: #00bcd4;
            /* Teal */
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 188, 212, 0.4);
            margin-bottom: 20px;
        }

        .flip-button:hover {
            background-color: #0097a7;
            /* Darker teal */
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 188, 212, 0.6);
        }

        .flip-button:disabled {
            background-color: #a5d6a7;
            /* Lighter teal for disabled */
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        .result {
            font-size: 1.8em;
            font-weight: bold;
            color: #ffeb3b;
            /* Yellow */
            margin-top: 20px;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .result.show {
            opacity: 1;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Coin Toss</h1>

        <div class="coin-container" id="coinContainer">
            <div class="coin-face coin-heads" id="coinHeads">
                <img src="https://placehold.co/200x200/cccccc/333333?text=HEADS" alt="Coin Heads">
            </div>
            <div class="coin-face coin-tails" id="coinTails">
                <img src="https://placehold.co/200x200/999999/ffffff?text=TAILS" alt="Coin Tails">
            </div>
        </div>

        <button id="flipButton" class="flip-button">Flip Coin</button>

        <div id="result" class="result"></div>
    </div>

    <script>
        const flipButton = document.getElementById('flipButton');
        const coinContainer = document.getElementById('coinContainer');
        const coinHeads = document.getElementById('coinHeads');
        const coinTails = document.getElementById('coinTails');
        const resultDisplay = document.getElementById('result');

        // Initially show heads
        let currentSide = 'heads'; // 'heads' or 'tails'
        coinHeads.style.transform = 'rotateY(0deg)';
        coinTails.style.transform = 'rotateY(-180deg)'; // Keep tails hidden behind heads

        flipButton.addEventListener('click', () => {
            // Disable button during animation
            flipButton.disabled = true;
            resultDisplay.classList.remove('show');
            resultDisplay.textContent = ''; // Clear previous result

            // Remove any previous flip animation class to allow re-triggering
            coinContainer.classList.remove('flipping');
            void coinContainer.offsetWidth; // Trigger reflow to restart animation

            // Randomly determine the outcome
            const isHeads = Math.random() < 0.5; // true for heads, false for tails
            const finalSide = isHeads ? 'heads' : 'tails';

            // Add the flipping animation class
            coinContainer.classList.add('flipping');

            // Listen for the end of the animation
            coinContainer.addEventListener('animationend', () => {
                // Remove the flipping class
                coinContainer.classList.remove('flipping');

                // Set the final orientation of the coin faces
                if (finalSide === 'heads') {
                    coinHeads.style.transform = 'rotateY(0deg)';
                    coinTails.style.transform = 'rotateY(180deg)';
                } else {
                    coinHeads.style.transform = 'rotateY(-180deg)';
                    coinTails.style.transform = 'rotateY(0deg)';
                }

                // Display the result
                resultDisplay.textContent = isHeads ? 'It\'s HEADS!' : 'It\'s TAILS!';
                resultDisplay.classList.add('show');

                // Re-enable the button
                flipButton.disabled = false;
            }, { once: true }); // Ensure the event listener runs only once
        });
    </script>
</body>

</html>
